[
  {
    "objectID": "permutation_test.html",
    "href": "permutation_test.html",
    "title": "Financial Institution’s effect on GDP",
    "section": "",
    "text": "Context of the problem:\nThe point of this analysis is to explore how access to financial institutions and services such as having a checking account impacts a nations GDP and to explore the relationship between the two factors. We are exploring GDP per Capita for 120 nations in USD. We are measuring how GDP per Capita is affected by the percent of the population 15+ and older who have access to a financial institution account. Among the data we also have other variables to measure access to financial institutions such as:\nSaved at a financial institution (% age 15+)\nBorrowed from a formal financial institution (% age 15+)\nAccount, female (% age 15+)\nAccount, male (% age 15+)\nOwns a credit card (% age 15+)\nI split countries into two groups based on the median GDP per Capita:\nHigh GDP group: Countries above the median\nLow GDP group: Countries below the median\nWhy this is interesting to analyze:\nUnderstanding how economic development correlates with financial inclusion is essential for policy and development strategy. If we notice countries with greater access to financial institutions have a larger GDP per Capita than maybe we can identify financial institutions as a potential driver in generating wealth for a country. Understanding this could help addresing policy going forward in low income countries. If these countries implement policies that expand access to financial institutions it could help increase their GDP per Capita and improve a nations wealth which would also improve standard of living, overall happiness, and quality of life.\nResearch question:\nDoes greater access to financial institutions correlate with higher national wealth, as measured by GDP per Capita?\nNull hypothesis:\nThere is no difference in GDP per Capita between countries with higher and lower access to financial institutions.\nAlternate Hypothesis:\nCountries with greater access to financial institutions have a higher GDP per Capita than those with lower access.\nPlan:\nTo explore the relationship between a country’s wealth and financial access, I plan to compare the percentage of adults with bank accounts across high- and low-GDP countries. I plan to categorize countries into two groups based on the median GDP per Capita. To determine whether any observed difference in financial access was statistically significant, I plan to conduct a permutation test simulating the null hypothesis of no association. By repeatedly shuffling account access values and calculating the difference between groups, I aim to build a reference distribution to compare against the observed difference.\n\nlibrary(tidyverse)\nlibrary(readxl)\n\nGDP_analysis &lt;- read_excel(\"GDP_analysis.xlsx\", sheet = \"Data\", skip = 1)\ncolnames(GDP_analysis) &lt;- c(\n  \"Country\", \n  \"GDP_Per_Capita\", \n  \"Account_15plus\", \n  \"Saved_15plus\", \n  \"Borrowed_Formal_15plus\", \n  \"Account_Female\", \n  \"Account_Male\", \n  \"Owns_Credit_Card\")\n\nGDP_analysis &lt;- GDP_analysis |&gt; \n  mutate(across(GDP_Per_Capita:Owns_Credit_Card, as.numeric))\n  \nmedian_gdp &lt;- median(GDP_analysis$GDP_Per_Capita, na.rm = TRUE)\n\nGDP_analysis &lt;- GDP_analysis |&gt;  \n  mutate(GDP_Group = ifelse(GDP_Per_Capita &gt;= median_gdp, \"High\", \"Low\"))\n\nperm_data &lt;- function(rep, data) {\n  data |&gt;\n    select(GDP_Group, Account_15plus) |&gt;\n    mutate(Account_15plus_perm = sample(Account_15plus, replace = FALSE)) %&gt;%\n    group_by(GDP_Group) |&gt;\n    summarize(\n      obs_ave = mean(Account_15plus, na.rm = TRUE),\n      obs_med = median(Account_15plus, na.rm = TRUE),\n      perm_ave = mean(Account_15plus_perm, na.rm = TRUE),\n      perm_med = median(Account_15plus_perm, na.rm = TRUE),\n      .groups = \"drop\"\n    ) |&gt;\n    summarize(\n      obs_ave_diff = diff(obs_ave),\n      obs_med_diff = diff(obs_med),\n      perm_ave_diff = diff(perm_ave),\n      perm_med_diff = diff(perm_med),\n      rep = rep\n    )\n}\n\nperm_results &lt;- map_df(1:1000, perm_data, data = GDP_analysis)\n\nhead(perm_results)\n\n# A tibble: 6 × 5\n  obs_ave_diff obs_med_diff perm_ave_diff perm_med_diff   rep\n         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;int&gt;\n1       -0.459       -0.572        0.0501        0.199      1\n2       -0.459       -0.572       -0.0247       -0.0616     2\n3       -0.459       -0.572       -0.140        -0.302      3\n4       -0.459       -0.572       -0.0900       -0.155      4\n5       -0.459       -0.572       -0.0938       -0.282      5\n6       -0.459       -0.572       -0.108        -0.273      6\n\n\nMy Analysis:\nIn my analysis I aimed to investigates whether countries with higher GDP per Capita also have greater access to financial institutions. To do this, I began by importing and cleaning the dataset, converting relevant financial indicators to numeric form. I then split countries into “High” and “Low” GDP groups based on the median GDP per Capita. The main variable of interest is the percentage of adults aged 15+ with a bank account. To test whether the observed difference in account access between high- and low-GDP countries could be due to chance, I implemented a permutation test. This involved randomly shuffling the account access values across countries 1,000 times to simulate the distribution of differences we would expect under the null hypothesis of no relationship. For each iteration, I calculated the observed and permuted differences in both means and medians between the two groups. The results allow us to compare the actual observed difference to what we’d expect under random assignment, helping determine whether the relationship between GDP and financial access is statistically meaningful.\n\nlibrary(ggplot2)\n\nGDP_analysis |&gt;\n  ggplot(aes(x = GDP_Group, y = Account_15plus, fill = GDP_Group)) +\n  geom_boxplot(alpha = 0.7) +\n  labs(\n    title = \"Access to Financial Accounts by GDP Group\",\n    x = \"GDP Group\",\n    y = \"% of Population (15+) with an Account\"\n  ) +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"Low\" = \"#FF9999\", \"High\" = \"#66CC99\"))\n\n\n\n\n\n\n\n\nThis plot shows a comparison of access to financial accounts between countries with high and low GDP per Capita. Each box represents the distribution of the percentage of adults aged 15 and older who have an account at a financial institution within each GDP group. It shows the lower 25th percent quartile represented by the bottom of the box. This middle of the box represents the 50th percent quartile. The top of the box represents the 75th percent quartile. It also shows the outliers and data not in this distribution by the lines and data points shown outside of the box. From the visualization, we see that countries with higher GDP per Capita generally have greater access to financial accounts as we see the box is a lot higher. This means that on average those in higher GDP per Capita countries have a greater percent of the population with access to financial accounts. We see both the median and overall distribution higher than in the low-GDP group. This visual difference supports the idea that national wealth may be associated with financial inclusion."
  },
  {
    "objectID": "DataEthics.html",
    "href": "DataEthics.html",
    "title": "DataEthics",
    "section": "",
    "text": "Introduction:\nImagine you get caught committing a petty crime, such as stealing someone’s purse out of their car, and you find yourself in court negotiating your parole and sentence with a judge. During this delegation, you are asked to fill out a test of 137 questions to predict how dangerous you may be in the future and whether you will get parole. Now, imagine you are a person of color: you may find that this algorithm predicted you to be much more dangerous in the future than a white individual who did something similar or worse, and you find yourself with a harsher sentence than that white individual. Also, imagine you learn information about previous offenses and data on you is being fed to this algorithm without your consent—an algorithm designed to determine how to rehabilitate people, not how to sentence them.\nThis happens quite often with the use of a predictive algorithm called COMPAS, which analyzes answers to 137 questions, ranging from criminal history to personal background (like whether your parents were incarcerated or if you have a job), to assess your risk level. This proprietary tool is designed to forecast the likelihood of a criminal defendant reoffending and is used in several stages of the U.S. criminal justice system, including pretrial release decisions and sentencing. COMPAS generates risk scores by analyzing answers to 137 items derived from both personal interviews and criminal records. \nThe ProPublica analysis, which was used in the article to evaluate whether the tool held racial bias, involved collecting real-world risk scores from over 7,000 individuals arrested in Broward County, Florida. They then checked their actual criminal records over the following two years. They used this data to statistically evaluate the accuracy and fairness of the COMPAS predictions. While the tool was about 61% accurate overall (slightly better than random guessing), ProPublica found that it made systematic errors based on race: it overestimated the risk for Black defendants and underestimated it for white defendants.\nThis poses an ethical dilemma in that this algorithm has been found to produce biased results. ProPublica’s investigation showed that Black defendants were far more likely to be labeled high risk even when they did not reoffend, while white defendants with worse records were often labeled low risk. These scores can and have deeply influenced people’s freedom, yet the individuals affected don’t know how the scores are calculated and have limited ability to challenge them. This raises serious concerns about transparency, fairness, and racial bias in automated decision-making systems used by the justice system.\nWhat was the consent structure for recruiting participants? Were the participants aware of the ways their data would be used for research? Was informed consent possible? Can you provide informed consent for applications that are yet foreseen?\nThe core issue here is informed consent, which requires that participants understand how their data will be used and voluntarily agree to those uses. In the case of COMPAS, individuals were not recruited as research participants, but they were criminal defendants whose data was collected to determine the proceedings of their court cases. As highlighted in the ProPublica investigation, these defendants were likely unaware that their answers to personal questions, such as if a parent had been to prison, would later be used in said proceedings as well as journalism and academic research. The WIRED article by Lapowsky supports this concern by showing how these data, originally collected for case processing, were later used to evaluate algorithmic fairness and predictive accuracy, often without any consent from the individuals involved. This raises serious questions about whether informed consent is even possible in a setting like the criminal justice system. More broadly, both articles illustrate how difficult it is to secure meaningful consent for future, and other unforeseen uses, especially when those uses include third-party audits, news reports, or machine learning research.\nIs the data being used in unintended ways to the original study?\nThe core issue here is mitigating bias in ourselves and the data we apply to the real world, especially when we are applying it to the freedom of others. This involves identifying and correcting disparities in how predictive models treat different demographic groups. The ProPublica article exposed how COMPAS produced racially skewed predictions: Black defendants were far more likely than white defendants to be falsely labeled as high-risk. Even though the model did not explicitly use race, it incorporated proxies, such as education, employment, and family history, that have underlying systemic racial inequalities. The WIRED article by Lapowsky extends this point, showing how Dartmouth researchers compared COMPAS to predictions made by Mechanical Turk workers and found similar racial disparities in both cases, despite omitting race as a data point. This suggests that these unintended biases are an underlying problem in the algorithm. The fact that COMPAS was used beyond its original scope which is influencing sentencing decisions without reevaluation or transparency, further shows the unintended uses of data which continue to exacerbate structural inequalities. \nShould race be used as a variable? Is it a proxy for something else (e.g., amount of melanin in the skin, stress of navigating microaggressions, zip-code, etc.)? What about gender?\nThe core issue of this question is to consider carefully the ethical implications of choices we make when using data, and the impacts of our work on individuals and society. It’s important to recognize if race should be used as a variable in this study or if it is used as a proxy for something else. According to ProPublica, COMPAS does not use race directly, but the model’s reliance on variables like prior convictions, family incarceration, and employment effectively makes race a proxy. The WIRED article confirms that even when race was withheld from human participants and machine learning models, the false positive rate remained higher for Black defendants, suggesting that race is indirectly encoded through other features. This shows that omitting race doesn’t remove bias but makes it less visible. The Dartmouth study also revealed that only two variables age and number of prior offenses were needed to match COMPAS’s accuracy, but these too reflect racial disparities in policing and prosecution. Gender operates similarly: while it may appear neutral, its inclusion can reinforce stereotypes and institutional inequities unless handled with care. Together, these articles argue that merely excluding race or gender does not ensure fairness but in fact, it may prevent the detection and correction of embedded bias. An interesting thought could be to add race into these models to in a sense dilute the consideration of other variables such as family incarceration and employment. Systematic inequalities make these attributes more common in Black Americans and if we can recognize that in the model we could weigh those variables less harshly. However, this could backfire and make the model more racist.\nHow were the variables collected? Were they accurately recorded? Is there any missing data?\nThe core issue here is data integrity, ensuring that the variables used to power predictive algorithms are accurate, complete, and reliable. In ProPublica’s investigation, the COMPAS tool drew from self-reported questionnaires and criminal records, including subjective questions like one’s attitudes toward authority or peer behavior. This raises questions about the validity of responses gathered especially in an institutional setting. The WIRED article echoes these concerns by pointing out that COMPAS amasses up to 137 data points per defendant, many of which are unverifiable or not publicly documented. Furthermore, Equivant, the company behind COMPAS, has never disclosed the full list of variables or their weights, making external auditing difficult. This opacity prevents researchers from checking for missing data, measurement error, or inconsistency in data collection methods. According to the WIRED piece, even when researchers built a simplified model with just seven variables, it performed similarly to COMPAS suggesting that the extra data may not add meaningful accuracy and could introduce more bias or error. Without transparency, there is no way to ensure that the model’s decisions are based on solid evidence rather than flawed inputs.\nCitations:\nAngwin, Julia, et al. “Machine Bias: There’s Software Used across the Country to Predict Future Criminals. And It’s Biased against Blacks.” ProPublica, 23 May 2016, www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing.\nLapowsky, Issie. “Crime-Predicting Algorithms May Not Fare Much Better Than Untrained Humans.” WIRED, 17 Jan. 2018, https://www.wired.com/story/crime-predicting-algorithms-may-not-outperform-untrained-humans/."
  },
  {
    "objectID": "NFLsalaries.html",
    "href": "NFLsalaries.html",
    "title": "NFL Salaries by Position",
    "section": "",
    "text": "library(tidyverse)\nlibrary(readxl)\n\nfile_path &lt;- \"nfl_salary.xlsx\"\nnfl_salary &lt;- read_excel(file_path)\n\nggplot(nfl_salary, aes(x = Quarterback)) +\n  geom_boxplot(color = \"navy\")+\n  facet_wrap(~year)+\n  labs(title = \"Average Quarterback salaries throughout the years\")"
  },
  {
    "objectID": "FastFood.html",
    "href": "FastFood.html",
    "title": "FastFood",
    "section": "",
    "text": "library(tidyverse)\nlibrary(readxl)\n\nfile_path &lt;- \"Fast Food.xlsx\"\nFast_Food &lt;- read_excel(file_path)\n\nggplot(Fast_Food, aes(x = calories)) +\n  geom_boxplot(color = \"darkred\")+\n  facet_wrap(~restaurant)+\n  labs(title = \"Average calories per restaurant\")"
  },
  {
    "objectID": "SQL.html",
    "href": "SQL.html",
    "title": "SQL",
    "section": "",
    "text": "Introduction:\nIn this project, I investigate racial disparities in police search behavior during traffic stops across six U.S. cities: San Diego, Charlotte, Philadelphia, New Orleans, Austin, and Chicago. Using data from the Stanford Open Policing Project, I analyze whether Black and White drivers experience different search rates, and how those rates have changed over time. My approach involves querying each city’s data using SQL to summarize annual stop counts, search counts, and calculated search rates by race. I then compare these trends both within and across cities to identify patterns of disparity or improvement over time.\n\nlibrary(DBI)\nlibrary(RMariaDB)\n\ncon_traffic &lt;- DBI::dbConnect(\n  RMariaDB::MariaDB(),\n  dbname = \"traffic\",\n  host = Sys.getenv(\"TRAFFIC_HOST\"),\n  user = Sys.getenv(\"TRAFFIC_USER\"),\n  password = Sys.getenv(\"TRAFFIC_PWD\")\n)\n\nDBI::dbListTables(con_traffic)\n\n [1] \"ar_little_rock_2020_04_01\"      \"az_gilbert_2020_04_01\"         \n [3] \"az_mesa_2023_01_26\"             \"az_statewide_2020_04_01\"       \n [5] \"ca_anaheim_2020_04_01\"          \"ca_bakersfield_2020_04_01\"     \n [7] \"ca_long_beach_2020_04_01\"       \"ca_los_angeles_2020_04_01\"     \n [9] \"ca_oakland_2020_04_01\"          \"ca_san_bernardino_2020_04_01\"  \n[11] \"ca_san_diego_2020_04_01\"        \"ca_san_francisco_2020_04_01\"   \n[13] \"ca_san_jose_2020_04_01\"         \"ca_santa_ana_2020_04_01\"       \n[15] \"ca_statewide_2023_01_26\"        \"ca_stockton_2020_04_01\"        \n[17] \"co_aurora_2023_01_26\"           \"co_denver_2020_04_01\"          \n[19] \"co_statewide_2020_04_01\"        \"ct_hartford_2020_04_01\"        \n[21] \"ct_statewide_2020_04_01\"        \"fl_saint_petersburg_2020_04_01\"\n[23] \"fl_statewide_2020_04_01\"        \"fl_tampa_2020_04_01\"           \n[25] \"ga_statewide_2020_04_01\"        \"ia_statewide_2020_04_01\"       \n[27] \"id_idaho_falls_2020_04_01\"      \"il_chicago_2023_01_26\"         \n[29] \"il_statewide_2020_04_01\"        \"in_fort_wayne_2020_04_01\"      \n[31] \"ks_wichita_2023_01_26\"          \"ky_louisville_2023_01_26\"      \n[33] \"ky_owensboro_2020_04_01\"        \"la_new_orleans_2020_04_01\"     \n[35] \"ma_statewide_2020_04_01\"        \"md_baltimore_2020_04_01\"       \n[37] \"md_statewide_2020_04_01\"        \"mi_statewide_2020_04_01\"       \n[39] \"mn_saint_paul_2020_04_01\"       \"mo_statewide_2020_04_01\"       \n[41] \"ms_statewide_2020_04_01\"        \"mt_statewide_2023_01_26\"       \n[43] \"nc_charlotte_2020_04_01\"        \"nc_durham_2020_04_01\"          \n[45] \"nc_fayetteville_2020_04_01\"     \"nc_greensboro_2020_04_01\"      \n[47] \"nc_raleigh_2020_04_01\"          \"nc_statewide_2020_04_01\"       \n[49] \"nc_winston_salem_2020_04_01\"    \"nd_grand_forks_2020_04_01\"     \n[51] \"nd_statewide_2020_04_01\"        \"ne_statewide_2020_04_01\"       \n[53] \"nh_statewide_2020_04_01\"        \"nj_camden_2020_04_01\"          \n[55] \"nj_statewide_2020_04_01\"        \"nv_henderson_2020_04_01\"       \n[57] \"nv_statewide_2020_04_01\"        \"ny_albany_2020_04_01\"          \n[59] \"ny_statewide_2020_04_01\"        \"oh_cincinnati_2020_04_01\"      \n[61] \"oh_columbus_2020_04_01\"         \"oh_statewide_2020_04_01\"       \n[63] \"ok_oklahoma_city_2023_01_26\"    \"ok_tulsa_2020_04_01\"           \n[65] \"or_statewide_2020_04_01\"        \"pa_philadelphia_2020_04_01\"    \n[67] \"ri_statewide_2020_04_01\"        \"sc_statewide_2020_04_01\"       \n[69] \"sd_statewide_2020_04_01\"        \"tn_nashville_2020_04_01\"       \n[71] \"tn_statewide_2020_04_01\"        \"tx_arlington_2020_04_01\"       \n[73] \"tx_austin_2020_04_01\"           \"tx_garland_2020_04_01\"         \n[75] \"tx_houston_2023_01_26\"          \"tx_lubbock_2020_04_01\"         \n[77] \"tx_plano_2020_04_01\"            \"tx_san_antonio_2023_01_26\"     \n[79] \"tx_statewide_2020_04_01\"        \"va_statewide_2020_04_01\"       \n[81] \"vt_burlington_2023_01_26\"       \"vt_statewide_2020_04_01\"       \n[83] \"wa_seattle_2020_04_01\"          \"wa_statewide_2020_04_01\"       \n[85] \"wa_tacoma_2020_04_01\"           \"wi_madison_2023_01_26\"         \n[87] \"wi_statewide_2020_04_01\"        \"wy_statewide_2020_04_01\"       \n\n\n\nSELECT \n  'Nashville' AS city,\n  subject_race AS race,\n  YEAR(date) AS year,\n  COUNT(*) AS total_stops,\n  SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches,\n  ROUND(SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) * 1.0 / COUNT(*), 3) AS search_rate\nFROM tn_nashville_2020_04_01\nWHERE \n  subject_race IN ('black', 'white') AND\n  date IS NOT NULL AND\n  search_conducted IS NOT NULL\nGROUP BY subject_race, YEAR(date)\nORDER BY subject_race, YEAR(date);\n\n\nDisplaying records 1 - 10\n\n\ncity\nrace\nyear\ntotal_stops\nsearches\nsearch_rate\n\n\n\n\nNashville\nblack\n2010\n115023\n7451\n0.065\n\n\nNashville\nblack\n2011\n153025\n8586\n0.056\n\n\nNashville\nblack\n2012\n173393\n9184\n0.053\n\n\nNashville\nblack\n2013\n160925\n9293\n0.058\n\n\nNashville\nblack\n2014\n155570\n9106\n0.059\n\n\nNashville\nblack\n2015\n129698\n7530\n0.058\n\n\nNashville\nblack\n2016\n109146\n6517\n0.060\n\n\nNashville\nblack\n2017\n88745\n5110\n0.058\n\n\nNashville\nblack\n2018\n75310\n4886\n0.065\n\n\nNashville\nblack\n2019\n5016\n322\n0.064\n\n\n\n\n\nIn Nashville, I examined racial disparities in police searches over time. The data show the number of total stops, searches, and the resulting search rate for Black and White drivers from each year. This allows us to track whether search rates differ by race and whether those disparities have changed over time.\n\nSELECT \n  'Charlotte' AS city,\n  subject_race AS race,\n  YEAR(date) AS year,\n  COUNT(*) AS total_stops,\n  SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches,\n  ROUND(SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) * 1.0 / COUNT(*), 3) AS search_rate\nFROM nc_charlotte_2020_04_01\nWHERE \n  subject_race IN ('black', 'white') AND\n  date IS NOT NULL AND\n  search_conducted IS NOT NULL\nGROUP BY subject_race, YEAR(date)\nORDER BY subject_race, YEAR(date);\n\n\nDisplaying records 1 - 10\n\n\ncity\nrace\nyear\ntotal_stops\nsearches\nsearch_rate\n\n\n\n\nCharlotte\nblack\n2000\n690\n59\n0.086\n\n\nCharlotte\nblack\n2001\n972\n41\n0.042\n\n\nCharlotte\nblack\n2002\n40250\n4192\n0.104\n\n\nCharlotte\nblack\n2003\n33438\n3093\n0.092\n\n\nCharlotte\nblack\n2004\n34212\n3234\n0.095\n\n\nCharlotte\nblack\n2005\n41655\n4577\n0.110\n\n\nCharlotte\nblack\n2006\n49223\n5834\n0.119\n\n\nCharlotte\nblack\n2007\n60716\n6936\n0.114\n\n\nCharlotte\nblack\n2008\n53761\n5551\n0.103\n\n\nCharlotte\nblack\n2009\n76677\n6095\n0.079\n\n\n\n\n\nThis query analyzes police search behavior in Charlotte. By comparing the yearly search rates for Black and White drivers, we can identify whether racial disparities exist and whether they have narrowed or widened in recent years. The summary table gives a year-by-year breakdown of search activity.\n\nSELECT \n  'Saint Paul' AS city,\n  subject_race AS race,\n  YEAR(date) AS year,\n  COUNT(*) AS total_stops,\n  SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches,\n  ROUND(SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) * 1.0 / COUNT(*), 3) AS search_rate\nFROM mn_saint_paul_2020_04_01\nWHERE \n  subject_race IN ('black', 'white') AND\n  date IS NOT NULL AND\n  search_conducted IS NOT NULL\nGROUP BY subject_race, YEAR(date)\nORDER BY subject_race, YEAR(date);\n\n\nDisplaying records 1 - 10\n\n\ncity\nrace\nyear\ntotal_stops\nsearches\nsearch_rate\n\n\n\n\nSaint Paul\nblack\n2001\n11892\n1400\n0.118\n\n\nSaint Paul\nblack\n2002\n15511\n1727\n0.111\n\n\nSaint Paul\nblack\n2003\n16997\n1978\n0.116\n\n\nSaint Paul\nblack\n2004\n15954\n1969\n0.123\n\n\nSaint Paul\nblack\n2005\n12541\n1640\n0.131\n\n\nSaint Paul\nblack\n2006\n12644\n2079\n0.164\n\n\nSaint Paul\nblack\n2007\n8862\n1612\n0.182\n\n\nSaint Paul\nblack\n2008\n11559\n1903\n0.165\n\n\nSaint Paul\nblack\n2009\n11349\n1636\n0.144\n\n\nSaint Paul\nblack\n2010\n11782\n1170\n0.099\n\n\n\n\n\nThe Saint Paul data highlights racial disparities in search rates between Black and White drivers. Each row summarizes stop and search activity for a particular year, helping us assess whether the city’s policing practices have evolved or remained consistent over time.\n\nSELECT \n  'New Orleans' AS city,\n  subject_race AS race,\n  YEAR(date) AS year,\n  COUNT(*) AS total_stops,\n  SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches,\n  ROUND(SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) * 1.0 / COUNT(*), 3) AS search_rate\nFROM la_new_orleans_2020_04_01\nWHERE \n  subject_race IN ('black', 'white') AND\n  date IS NOT NULL AND\n  search_conducted IS NOT NULL\nGROUP BY subject_race, YEAR(date)\nORDER BY subject_race, YEAR(date);\n\n\nDisplaying records 1 - 10\n\n\ncity\nrace\nyear\ntotal_stops\nsearches\nsearch_rate\n\n\n\n\nNew Orleans\nblack\n2010\n43384\n2\n0.000\n\n\nNew Orleans\nblack\n2011\n59462\n5680\n0.096\n\n\nNew Orleans\nblack\n2012\n44129\n8218\n0.186\n\n\nNew Orleans\nblack\n2013\n27376\n6888\n0.252\n\n\nNew Orleans\nblack\n2014\n35213\n7231\n0.205\n\n\nNew Orleans\nblack\n2015\n45587\n8206\n0.180\n\n\nNew Orleans\nblack\n2016\n31679\n7197\n0.227\n\n\nNew Orleans\nblack\n2017\n39834\n9639\n0.242\n\n\nNew Orleans\nblack\n2018\n23153\n4878\n0.211\n\n\nNew Orleans\nwhite\n2010\n15302\n0\n0.000\n\n\n\n\n\nIn New Orleans, I explore annual search rates for Black and White drivers. This table helps reveal whether racial disparities in search behavior exist and if they are persistent across years. The presence of any consistent differences can point to systemic patterns in local policing.\n\nSELECT \n  'Austin' AS city,\n  subject_race AS race,\n  YEAR(date) AS year,\n  COUNT(*) AS total_stops,\n  SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches,\n  ROUND(SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) * 1.0 / COUNT(*), 3) AS search_rate\nFROM tx_austin_2020_04_01\nWHERE \n  subject_race IN ('black', 'white') AND\n  date IS NOT NULL AND\n  search_conducted IS NOT NULL\nGROUP BY subject_race, YEAR(date)\nORDER BY subject_race, YEAR(date);\n\n\nDisplaying records 1 - 10\n\n\ncity\nrace\nyear\ntotal_stops\nsearches\nsearch_rate\n\n\n\n\nAustin\nblack\n2006\n5736\n497\n0.087\n\n\nAustin\nblack\n2007\n5283\n355\n0.067\n\n\nAustin\nblack\n2008\n6449\n324\n0.050\n\n\nAustin\nblack\n2009\n6922\n323\n0.047\n\n\nAustin\nblack\n2010\n8226\n430\n0.052\n\n\nAustin\nblack\n2011\n8232\n671\n0.082\n\n\nAustin\nblack\n2012\n7234\n596\n0.082\n\n\nAustin\nblack\n2013\n7745\n634\n0.082\n\n\nAustin\nblack\n2014\n7335\n540\n0.074\n\n\nAustin\nblack\n2015\n6210\n475\n0.076\n\n\n\n\n\nThe Austin dataset provides insight into how stop and search practices differ by race over time. The query outputs a breakdown of total stops, number of searches, and calculated search rates, allowing a clear comparison of treatment between Black and White drivers on a yearly basis.\n\nSELECT 'Nashville' AS city, subject_race AS race, YEAR(date) AS year,\n       COUNT(*) AS total_stops,\n       SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches\nFROM tn_nashville_2020_04_01\nWHERE subject_race IN ('black', 'white')\nGROUP BY subject_race, YEAR(date)\n\nUNION ALL\n\nSELECT 'Charlotte' AS city, subject_race AS race, YEAR(date) AS year,\n       COUNT(*) AS total_stops,\n       SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches\nFROM nc_charlotte_2020_04_01\nWHERE subject_race IN ('black', 'white')\nGROUP BY subject_race, YEAR(date)\n\nUNION ALL\n\nSELECT 'Saint Paul' AS city, subject_race AS race, YEAR(date) AS year,\n       COUNT(*) AS total_stops,\n       SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches\nFROM mn_saint_paul_2020_04_01\nWHERE subject_race IN ('black', 'white')\nGROUP BY subject_race, YEAR(date)\n\nUNION ALL\n\nSELECT 'New Orleans' AS city, subject_race AS race, YEAR(date) AS year,\n       COUNT(*) AS total_stops,\n       SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches\nFROM la_new_orleans_2020_04_01\nWHERE subject_race IN ('black', 'white')\nGROUP BY subject_race, YEAR(date)\n\nUNION ALL\n\nSELECT 'Austin' AS city, subject_race AS race, YEAR(date) AS year,\n       COUNT(*) AS total_stops,\n       SUM(CASE WHEN search_conducted = TRUE THEN 1 ELSE 0 END) AS searches\nFROM tx_austin_2020_04_01\nWHERE subject_race IN ('black', 'white')\nGROUP BY subject_race, YEAR(date);\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\ndf |&gt;\n  mutate(year = as.numeric(year)) |&gt;\n  ggplot(aes(x = year, y = searches / total_stops, color = race)) +\n  geom_line(size = 1.2) +\n  facet_wrap(~ city) +\n  labs(title = \"Search Rate Over Time by Race and City\",\n       x = \"Year\", y = \"Search Rate\",\n       color = \"Driver Race\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nThis plot displays search rates over time for Black and White drivers in each of the six cities included in the analysis seperated into 6 graphs per city. Each line represents the percentage of stops that resulted in a search for each racial group, by year. Across all cities, Black drivers consistently experienced higher search rates than White drivers. The gap between the two groups is visible in most cities and remains relatively stable over time, suggesting a persistent racial disparity in search practices.\n\ndf |&gt;\n  group_by(city, race) |&gt;\n  summarise(total_stops = sum(total_stops)) |&gt;\n  ggplot(aes(x = city, y = total_stops, fill = race)) +\n  geom_col(position = \"dodge\") +\n  labs(title = \"Total Stops by Race and City\",\n       x = \"City\", y = \"Total Stops\", fill = \"Race\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nThis bar chart compares the total number of stops for Black and White drivers in each city over the full time period covered by the data. It shows this by having total stops on the y-axis and cities on the x-axis. We can see two bars for each city to show how many times black people were stopped and how many times white people were stopped. While some cities show more stops for White drivers and others for Black drivers, this variation likely reflects differences in each city’s racial demographics rather than disparities in policing alone. It could also be attributed to having some incomplete or less data in some years This plot provides important context for interpreting the search rate data by showing the baseline number of stops per group.\nConclusion: Through querying traffic stop data across six U.S. cities using SQL, I analyzed how search rates compare between Black and White individuals over multiple years. By combining city-level results into a unified dataset, I was able to observe trends within and across locations, comparing both the rate and total number of searches by race. The analysis revealed that Black drivers consistently experienced higher search rates than White drivers in every city studied. While the magnitude of disparity varied by city and year, the pattern was both persistent and systemic. Interestingly, when comparing the total number of searches, the dominant racial group varied by city—likely reflecting differences in local demographic composition rather than search behavior alone.\nCitation: Pierson, Emma, Camelia Simoiu, Jan Overgoor, Sam Corbett-Davies, Daniel Jenson, Amy Shoemaker, Vignesh Ramachandran, et al. 2020. “A Large-Scale Analysis of Racial Disparities in Police Stops Across the United States.” Nature Human Behaviour, 1–10."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Nathan Dhanani",
    "section": "",
    "text": "Hello! My name is Nathan Dhanani and I am an Economic/Finance student at Claremont McKenna College. I am hoping to be an Economic Consultant and am currently interning at Analysis Group. I love playing soccer, lifting weights, pickle ball and Spikeball. Feel free to browse my website to learn more."
  },
  {
    "objectID": "Stinganalysis.html",
    "href": "Stinganalysis.html",
    "title": "StringAnalysis",
    "section": "",
    "text": "library(tidyverse)\nlibrary(lubridate)\nlibrary(RTextTools)\ndata(NYTimes)\nas_tibble(NYTimes)\n\n# A tibble: 3,104 × 5\n   Article_ID Date      Title                                 Subject Topic.Code\n        &lt;int&gt; &lt;fct&gt;     &lt;fct&gt;                                 &lt;fct&gt;        &lt;int&gt;\n 1      41246 1-Jan-96  Nation's Smaller Jails Struggle To C… Jails …         12\n 2      41257 2-Jan-96  FEDERAL IMPASSE SADDLING STATES WITH… Federa…         20\n 3      41268 3-Jan-96  Long, Costly Prelude Does Little To … Conten…         20\n 4      41279 4-Jan-96  Top Leader of the Bosnian Serbs Now … Bosnia…         19\n 5      41290 5-Jan-96  BATTLE OVER THE BUDGET: THE OVERVIEW… Battle…          1\n 6      41302 7-Jan-96  South African Democracy Stumbles on … politi…         19\n 7      41314 8-Jan-96  Among Economists, Little Fear on Def… econom…          1\n 8      41333 10-Jan-96 BATTLE OVER THE BUDGET: THE OVERVIEW… budget…          1\n 9      41344 11-Jan-96 High Court Is Cool To Census Change   census…         20\n10      41355 12-Jan-96 TURMOIL AT BARNEYS: THE DIFFICULTIES… barney…         15\n# ℹ 3,094 more rows\n\n\n\nNYTimesv2 &lt;- NYTimes |&gt;\n  mutate(politics_mention = str_detect(Title,regex(\"election|vote|senate|president|congress|politics|congress|clinton|trump\", ignore_case = TRUE))) |&gt;\n  mutate(title_word_count = str_count(Title,\"\\\\S+\")) |&gt;\n  mutate(location = str_extract(Title, regex(\"New York|California|Texas|France|Russia|China|Japan|Mexico|Bosnia|Serbia|Germany|UK|USA\", ignore_case = TRUE)))|&gt;\n  mutate(location = str_to_lower(location)) |&gt;\n  filter(politics_mention == TRUE, !is.na(location)) |&gt;\n  group_by(location) |&gt;\n  summarize(article_count = n(), .groups = \"drop\")\n\n\nggplot(NYTimesv2, aes(x = reorder(location, -article_count), y = article_count, fill = location)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Most Mentioned Locations in Political Articles\",\n       x = \"Location\",\n       y = \"Number of Articles\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nThe plot displays the frequency of political articles mentioning specific locations. Each bar represents a location, with the height indicating the number of articles referencing it. Locations are ordered from most to least mentioned, providing a clear view of geographic trends in political news coverage.\n\nlibrary(lubridate)\nNYTimesv3 &lt;- NYTimes |&gt;\n  mutate(Date = dmy(Date),  \n         Year = year(Date),\n         politics_mention = str_detect(Title, regex(\"election|vote|senate|president|congress|politics|congress|clinton|trump\", ignore_case = TRUE)),\n         title_word_count = str_count(Title,\"\\\\S+\"),\n         location = str_extract(Title, regex(\"New York|California|Texas|France|Russia|China|Japan|Mexico|Bosnia|Serbia|Germany|UK|USA\", ignore_case = TRUE))) |&gt;\n  filter(politics_mention == TRUE, !is.na(location)) |&gt;\n  group_by(Year) |&gt;\n  summarise(article_count = n(), .groups = \"drop\") |&gt;\n  arrange(Year)\n\n\nggplot(NYTimesv3, aes(x = Year, y = article_count)) +\n  geom_line(color = \"blue\", size = 1) +\n  geom_point(size = 2, color = \"red\") +\n  labs(title = \"Political Articles Mentioning Key Locations Over Time\",\n       x = \"Year\",\n       y = \"Number of Articles\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nThis line graph illustrates the number of political articles referencing key locations across different years. The x-axis represents the year, while the y-axis shows the total number of articles that mention political topics alongside specific locations. The blue line indicates trends over time, while red points highlight the exact number of articles per year. This visualization helps identify fluctuations in political coverage across the dataset."
  }
]